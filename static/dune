(alias
  (name site)
  (deps css/app.css
        css/prism.css
        images/visualisation/plot_003.png
        images/visualisation/plot_023.png
        js/_functions.js
        js/app.js
        js/discourse.js
        js/jquery.min.js
        js/modernizr.js
        js/prism.js
        js/min/app-min.js
        js/min/modernizr-min.js
        theme/epub/layout.html
        theme/mobi/layout.html
        theme/pdf/pdf.css))(alias (name site) (deps introduction.html))

(rule
  (targets introduction.html)
  (deps    (:x ../book/introduction.html)
           (alias ../book/html)
           ../bin/bin/app.exe
           ../book/toc.scm)
  (action  (run otb-build build chapter -o . -repo-root .. %{x})))

(alias (name site) (deps ndarray.html))

(rule
  (targets ndarray.html)
  (deps    (:x ../book/ndarray.html)
           (alias ../book/html)
           ../bin/bin/app.exe
           ../book/toc.scm)
  (action  (run otb-build build chapter -o . -repo-root .. %{x})))

(alias (name site) (deps prologue.html))

(rule
  (targets prologue.html)
  (deps    (:x ../book/prologue.html)
           (alias ../book/html)
           ../bin/bin/app.exe
           ../book/toc.scm)
  (action  (run otb-build build chapter -o . -repo-root .. %{x})))

(alias (name site) (deps visualisation.html))

(rule
  (targets visualisation.html)
  (deps    (:x ../book/visualisation.html)
           (alias ../book/html)
           ../bin/bin/app.exe
           ../book/toc.scm)
  (action  (run otb-build build chapter -o . -repo-root .. %{x})))
